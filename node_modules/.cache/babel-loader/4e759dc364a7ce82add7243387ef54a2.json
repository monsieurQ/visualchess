{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/q/Documents/WebDocuments/ChessReact/chess/src/components/Square/Square.js\";\nimport React from 'react';\nimport './Square.css';\nimport Piece from '../Piece/Piece'; // import Draggable from 'react-draggable';\n\nclass Square extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.dragStartHandler = e => {\n      e.dataTransfer.dropEffect = \"move\";\n      e.dataTransfer.setData(\"text/plain\", e.target.dataset.position);\n      requestAnimationFrame(function () {\n        e.target.classList.add('hide');\n      });\n    };\n\n    this.dragOverHandler = e => {\n      e.preventDefault(e);\n      requestAnimationFrame(function () {\n        e.target.classList.add('dragover');\n      });\n    };\n\n    this.dragLeaveHandler = e => {\n      e.preventDefault();\n      requestAnimationFrame(function () {\n        e.target.classList.remove('dragover');\n      });\n    };\n\n    this.dragEndHandler = e => {\n      e.preventDefault();\n      let element = e.target;\n      requestAnimationFrame(function () {\n        element.classList.remove('hide');\n      });\n    };\n\n    const {\n      row,\n      column,\n      background,\n      piece,\n      onClick,\n      pieceClick,\n      onDrop\n    } = props;\n    this.state = {\n      row: row,\n      column: column,\n      background: background,\n      piece: piece,\n      onClick: onClick,\n      onDrop: onDrop,\n      pieceClick: pieceClick\n    };\n  }\n\n  render() {\n    let {\n      row,\n      positione,\n      column,\n      background,\n      piece,\n      onClick,\n      pieceClick,\n      onDrop\n    } = this.state;\n    let classes = 'square ' + background;\n    let position = Number('' + column + row);\n    if (positione === \"35\") alert(\"hi\");\n    return piece ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes,\n      \"data-row\": row,\n      \"data-column\": column,\n      \"data-position\": position,\n      onDragOver: this.dragOverHandler,\n      onDragLeave: this.dragLeaveHandler,\n      onDrop: onDrop,\n      children: /*#__PURE__*/_jsxDEV(Piece, {\n        position: position,\n        onClick: pieceClick,\n        onDragStart: this.dragStartHandler,\n        onDragEnd: this.dragEndHandler,\n        type: piece[0],\n        color: piece[1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 6\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes,\n      onDrop: onDrop,\n      \"data-position\": position,\n      onDragLeave: this.dragLeaveHandler,\n      onDragEnd: this.dragEndHandler,\n      onDragOver: this.dragOverHandler,\n      onClick: onClick,\n      \"data-row\": row,\n      \"data-column\": column\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }, this);\n  } // dropHandler = (e) => {\n  // \te.preventDefault();\n  // \tlet data = e.dataTransfer.getData(\"text/plain\");\n  // \t\tlet strs = data.split(\"/\"); \n  // \tlet piece = strs[0];\n  // \tlet original_position = strs[1];\n  // \tlet new_position = e.target.id;\n  // \tif(e.target.localName==\"piece\"){\n  // \t\tif(piece==e.target.id){\n  // \t \t\tconsole.log(\"Same piece\");\n  // \t \t\treturn; \n  // \t \t}else{\n  // \t \t\t// console.log(piecesObj[original_position]);\n  // \t \t\t// console.log(piecesObj[convertPieceID(e.target.id)]);\n  // \t \t\tif(isOfSameColor(piecesObj[convertPieceID(piece)], piecesObj[convertPieceID(e.target.id)])){\n  // \t \t\t\tconsole.log(\"Same color\");\n  // \t \t\t\treturn;\n  // \t \t\t}else{\n  // \t \t\t\tcapturePiece(original_position, e.target.parentNode.id);\n  // \t \t\t\treturn;\n  // \t \t\t} \n  // \t \t}\n  // \t}\n  // \telse movePiece(original_position, new_position);\n  // \t// console.log(e.target.id);\n  // }\n\n\n}\n\nexport default Square;","map":{"version":3,"sources":["/Users/q/Documents/WebDocuments/ChessReact/chess/src/components/Square/Square.js"],"names":["React","Piece","Square","Component","constructor","props","dragStartHandler","e","dataTransfer","dropEffect","setData","target","dataset","position","requestAnimationFrame","classList","add","dragOverHandler","preventDefault","dragLeaveHandler","remove","dragEndHandler","element","row","column","background","piece","onClick","pieceClick","onDrop","state","render","positione","classes","Number","alert"],"mappings":"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","sourcesContent":["import React from 'react'; \nimport './Square.css';\nimport Piece from '../Piece/Piece';\n// import Draggable from 'react-draggable';\n\nclass Square extends React.Component{\n\tconstructor(props){\n\t\tsuper(props); \n\t\tconst {row, column, background, piece, onClick, pieceClick, onDrop} = props; \n\t\tthis.state = {\n\t\t\trow: row,\n\t\t\tcolumn: column,\n\t\t\tbackground: background,\n\t\t\tpiece: piece, \n\t\t\tonClick: onClick,\n\t\t\tonDrop: onDrop, \n\t\t\tpieceClick: pieceClick,\n\t\t}\n\t}\n\n\tdragStartHandler = (e) => {\n\t\te.dataTransfer.dropEffect = \"move\";\n\t\te.dataTransfer.setData(\"text/plain\", e.target.dataset.position); \n\t\trequestAnimationFrame(function () {\n\t\t\te.target.classList.add('hide');\n\t\t});\n\t};\n\n\t// dropHandler = (e) => {\n\t// \te.preventDefault();\n\t// \tconsole.log('drop, e.target', e.target);\n\t// \tlet data = e.dataTransfer.getData(\"text/plain\");\n\t// \tconsole.log('drop, moved piece', data);\n\t// };\n\n\tdragOverHandler = (e) => {\n\t\te.preventDefault(e);\n\t\trequestAnimationFrame(function () {\n\t\t\te.target.classList.add('dragover');\n\t\t});\n\t};\n\n\tdragLeaveHandler = (e) => {\n\t\te.preventDefault(); \n\t\trequestAnimationFrame(function () {\n\t\t\te.target.classList.remove('dragover');\n\t\t}); \n\t};\n\n\tdragEndHandler = (e) =>{\n\t\te.preventDefault();\n\t\tlet element = e.target;\n  \t  \trequestAnimationFrame(function () {\n\t    \telement.classList.remove('hide');\n\t  \t});\n\n\t};\n\n\trender(){\n\t\tlet {row, positione, column, background, piece, onClick, pieceClick, onDrop} = this.state; \n\t\tlet classes = 'square '+background;\n\t\tlet position = Number(''+column+row);\n\n\t\tif(positione===\"35\") alert(\"hi\");\n\n\t\treturn piece \n\t\t\t? <div className={classes} data-row={row} \n\t\t\t\tdata-column={column}\n\t\t\t\tdata-position={position}\n\t\t\t\tonDragOver={this.dragOverHandler}\n\t\t\t\tonDragLeave={this.dragLeaveHandler}\n\t\t\t\tonDrop={onDrop}\n\t\t\t\t> \n\t\t\t\t<Piece position={position} \n\t\t\t\t\tonClick={pieceClick}\n\t\t\t\t\tonDragStart={this.dragStartHandler}\n\t\t\t\t\tonDragEnd={this.dragEndHandler}\n\t\t\t\t\ttype={piece[0]} color={piece[1]} /> \n\t\t\t</div>\n\n\t\t\t: <div className={classes} \n\t\t\t\tonDrop={onDrop}\n\t\t\t\tdata-position={position} \n\t\t\t\tonDragLeave={this.dragLeaveHandler} \n\t\t\t\tonDragEnd={this.dragEndHandler} \n\t\t\t\tonDragOver={this.dragOverHandler} \n\t\t\t\tonClick={onClick} \n\t\t\t\tdata-row={row} \n\t\t\t\tdata-column={column} />;\n\t}\n\n\t\t// dropHandler = (e) => {\n\t// \te.preventDefault();\n\t// \tlet data = e.dataTransfer.getData(\"text/plain\");\n // \t\tlet strs = data.split(\"/\"); \n\t// \tlet piece = strs[0];\n\t// \tlet original_position = strs[1];\n\t// \tlet new_position = e.target.id;\n\t// \tif(e.target.localName==\"piece\"){\n\t// \t\tif(piece==e.target.id){\n\t// \t \t\tconsole.log(\"Same piece\");\n\t// \t \t\treturn; \n\t// \t \t}else{\n\t// \t \t\t// console.log(piecesObj[original_position]);\n\t// \t \t\t// console.log(piecesObj[convertPieceID(e.target.id)]);\n\t// \t \t\tif(isOfSameColor(piecesObj[convertPieceID(piece)], piecesObj[convertPieceID(e.target.id)])){\n\t// \t \t\t\tconsole.log(\"Same color\");\n\t// \t \t\t\treturn;\n\t// \t \t\t}else{\n\t// \t \t\t\tcapturePiece(original_position, e.target.parentNode.id);\n\t// \t \t\t\treturn;\n\t// \t \t\t} \n\t// \t \t}\n\t// \t}\n\t// \telse movePiece(original_position, new_position);\n\t// \t// console.log(e.target.id);\n\t// }\n\n\n}\n\nexport default Square; "]},"metadata":{},"sourceType":"module"}