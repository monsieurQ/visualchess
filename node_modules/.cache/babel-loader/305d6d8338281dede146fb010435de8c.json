{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import'./Moves.css';import MoveButton from'./MoveButton/MoveButton';// let typeConversion = ['','B','N','R','Q','K'];\n// let moveConverter = [\"a8\", \"b8\", \"c8\", \"d8\", \"e8\", \"f8\", \"g8\", \"h8\", \"a7\", \"b7\", \"c7\", \"d7\", \"e7\", \"f7\", \"g7\", \"h7\", \"a6\", \"b6\", \"c6\", \"d6\", \"e6\", \"f6\", \"g6\", \"h6\", \"a5\", \"b5\", \"c5\", \"d5\", \"e5\", \"f5\", \"g5\", \"h5\", \"a4\", \"b4\", \"c4\", \"d4\", \"e4\", \"f4\", \"g4\", \"h4\", \"a3\", \"b3\", \"c3\", \"d3\", \"e3\", \"f3\", \"g3\", \"h3\", \"a2\", \"b2\", \"c2\", \"d2\", \"e2\", \"f2\", \"g2\", \"h2\", \"a1\", \"b1\", \"c1\", \"d1\", \"e1\", \"f1\", \"g1\", \"h1\"];\n// TYPES \n// PAWN - 1\n// BISHOP - 2 \n// KNIGHT - 3\n// ROOK - 4 \n// QUEEN - 5 \n// KING - 6\nvar Moves=function Moves(_ref){var moves=_ref.moves,onClick=_ref.onClick,selected_move=_ref.selected_move,colorToMove=_ref.colorToMove;// let colorToText = (color) => {\n// \treturn color===1 ? 'white' : 'black'; \n// }\n/**\n\t * Scrolls the move-table to the appropriate position\t\n\t **/useEffect(function(){if(selected_move===0)return;var moves_table=document.querySelector('#moves_table');var move_offset=Math.floor((selected_move-1)/2)*20+20;if(moves_table.clientHeight+moves_table.scrollTop<=move_offset){moves_table.scrollTop=move_offset-moves_table.clientHeight;}else if(moves_table.scrollTop>=move_offset){moves_table.scrollTop=move_offset-20;}});function moveClicked(i){onClick(i);}var render=[];if(moves&&Object.keys(moves).length>0){var classes=['move_white','move_black'];var length=Object.keys(moves).length;var count=1;var _loop=function _loop(_i){var buffer=[];buffer.push(/*#__PURE__*/React.createElement('div',{className:'move_number',key:'mr'+count},count));buffer.push(/*#__PURE__*/React.createElement('div',{className:_i===selected_move-1?classes[_i%2]+' selected':classes[_i%2],id:'m'+_i,key:'m'+_i,onClick:function onClick(e){return moveClicked(_i);}},moves[_i].san));if(_i+1<length){_i+=1;buffer.push(/*#__PURE__*/React.createElement('div',{className:_i===selected_move-1?classes[_i%2]+' selected':classes[_i%2],id:'m'+_i,key:'m'+_i,onClick:function onClick(e){return moveClicked(_i+1);}},moves[_i].san));}render.push(/*#__PURE__*/React.createElement('div',{className:'move_item',key:'mi'+count},buffer));count++;i=_i;};for(var i=0;i<length;i++){_loop(i);}}return/*#__PURE__*/_jsx(\"div\",{id:\"moves\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"moves_container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"top_row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:\"Moves\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{className:'color '+colorToMove}),\" to move\"]})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"table_container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"move_button_container\",children:[/*#__PURE__*/_jsx(MoveButton,{onClick:function onClick(){return moveClicked(0);},altText:\"Go to first Move\",button:\"first_move\"}),/*#__PURE__*/_jsx(MoveButton,{onClick:function onClick(){return moveClicked(selected_move-1);},altText:\"Go to previous Move\",button:\"prev_move\"}),/*#__PURE__*/_jsx(MoveButton,{onClick:function onClick(){return moveClicked(selected_move+1);},altText:\"Go to next Move\",button:\"next_move\"}),/*#__PURE__*/_jsx(MoveButton,{onClick:function onClick(){return moveClicked(999);},altText:\"Go to last Move\",button:\"last_move\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"moves_table\",children:[\" \",render,\" \"]})]})]})});};export default Moves;","map":{"version":3,"sources":["/Users/q/Documents/WebDocuments/chess/front/src/components/Moves/Moves.js"],"names":["React","useEffect","MoveButton","Moves","moves","onClick","selected_move","colorToMove","moves_table","document","querySelector","move_offset","Math","floor","clientHeight","scrollTop","moveClicked","i","render","Object","keys","length","classes","count","buffer","push","createElement","className","key","id","e","san"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'; \nimport './Moves.css';\nimport MoveButton from './MoveButton/MoveButton';\n\n// let typeConversion = ['','B','N','R','Q','K'];\n// let moveConverter = [\"a8\", \"b8\", \"c8\", \"d8\", \"e8\", \"f8\", \"g8\", \"h8\", \"a7\", \"b7\", \"c7\", \"d7\", \"e7\", \"f7\", \"g7\", \"h7\", \"a6\", \"b6\", \"c6\", \"d6\", \"e6\", \"f6\", \"g6\", \"h6\", \"a5\", \"b5\", \"c5\", \"d5\", \"e5\", \"f5\", \"g5\", \"h5\", \"a4\", \"b4\", \"c4\", \"d4\", \"e4\", \"f4\", \"g4\", \"h4\", \"a3\", \"b3\", \"c3\", \"d3\", \"e3\", \"f3\", \"g3\", \"h3\", \"a2\", \"b2\", \"c2\", \"d2\", \"e2\", \"f2\", \"g2\", \"h2\", \"a1\", \"b1\", \"c1\", \"d1\", \"e1\", \"f1\", \"g1\", \"h1\"];\n// TYPES \n// PAWN - 1\n// BISHOP - 2 \n// KNIGHT - 3\n// ROOK - 4 \n// QUEEN - 5 \n// KING - 6\nconst Moves = ({moves, onClick, selected_move, colorToMove}) => {\n\t\n\t// let colorToText = (color) => {\n\t// \treturn color===1 ? 'white' : 'black'; \n\t// }\n\n\t/**\n\t * Scrolls the move-table to the appropriate position\t\n\t **/\n\tuseEffect(() => {\n\t\tif(selected_move===0) return;\n\t\tlet moves_table = document.querySelector('#moves_table'); \n\t\tlet move_offset = Math.floor((selected_move-1)/2)*20+20; \n\n\t\tif(moves_table.clientHeight+moves_table.scrollTop <= move_offset){\n\t\t\tmoves_table.scrollTop = move_offset - moves_table.clientHeight;\n\t\t}else if(moves_table.scrollTop >= move_offset){\n\t\t\tmoves_table.scrollTop = move_offset-20;\n\t\t}\n\t});\n\n\tfunction moveClicked(i){\n\t\tonClick(i);\n\t}\n\tlet render = []; \n\n\tif(moves && Object.keys(moves).length>0){\n\t\tlet classes = ['move_white','move_black']; \n\t\tlet length = Object.keys(moves).length;\n\t\tlet count = 1;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\n\t\t\tlet buffer = []; \n\t\t\tbuffer.push(\n\t\t\t\tReact.createElement('div', {className:'move_number', key:'mr'+count}, count)\n\t\t\t\t);\n\t\t\tbuffer.push(\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div', \n\t\t\t\t\t{\n\t\t\t\t\t\tclassName:(i===selected_move-1)? classes[i%2]+' selected':classes[i%2], \n\t\t\t\t\t\tid:'m'+i, \n\t\t\t\t\t\tkey:'m'+i, \n\t\t\t\t\t\tonClick: (e)=>moveClicked(i)\n\t\t\t\t\t}, moves[i].san)\n\t\t\t\t);\n\t\t\tif(i+1<length){\n\t\t\t\ti+=1; \n\t\t\t\tbuffer.push(\n\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t'div', \n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName:(i===selected_move-1)? classes[i%2]+' selected':classes[i%2], \n\t\t\t\t\t\t\tid:'m'+i, \n\t\t\t\t\t\t\tkey:'m'+i, \n\t\t\t\t\t\t\tonClick: (e) => moveClicked(i+1)\n\t\t\t\t\t\t}, moves[i].san)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\trender.push(\n\t\t\t\tReact.createElement('div', {className:'move_item', key:'mi'+count}, buffer)\n\t\t\t\t);\n\t\t\tcount++; \n\t\t\t\n\t\t}\n\n\t}\n\treturn (\n\t\t<div id=\"moves\"> \n\t\t\t<div id=\"moves_container\">\n\t\t\t\t<div id=\"top_row\">\n\t\t\t\t\t<div className=\"left\">Moves</div>\n\t\t\t\t\t<div className=\"right\">\n\t\t\t\t\t\t<span className={'color '+colorToMove} /> to move\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div id=\"table_container\">\n\t\t\t\t\t<div className=\"move_button_container\">\n\t\t\t\t\t\t<MoveButton onClick={()=>moveClicked(0)} altText=\"Go to first Move\" button=\"first_move\" />\n\t\t\t\t\t\t<MoveButton onClick={()=>moveClicked(selected_move-1)} altText=\"Go to previous Move\" button=\"prev_move\" />\n\t\t\t\t\t\t<MoveButton onClick={()=>moveClicked(selected_move+1)} altText=\"Go to next Move\" button=\"next_move\" />\n\t\t\t\t\t\t<MoveButton onClick={()=>moveClicked(999)} altText=\"Go to last Move\" button=\"last_move\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=\"moves_table\"> { render } </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Moves; "]},"metadata":{},"sourceType":"module"}