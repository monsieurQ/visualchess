{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/q/Documents/WebDocuments/ChessReact/chess/src/App.js\";\nimport './App.css';\nimport React, { Component } from 'react'; // import Board from './components/Board/Board';\n\nimport Moves from './components/Moves/Moves';\nimport Square from './components/Square/Square'; // TYPES (negative values for black)\n// PAWN - 1 \n// BISHOP - 2 \n// KNIGHT - 3 \n// ROOK - 4\n// QUEEN - 5 \n// KING - 6 \n\nconst startingPosition = [-4, -2, -3, -5, -6, -3, -2, -4, -1, -1, -1, -1, -1, -1, -1, -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 4, 2, 3, 5, 6, 3, 2, 4]; // const startingPosition = \n// {\n//   21: [0, 1], 22: [0, 1], 23: [0, 1], 24: [0, 1], 25: [0, 1], 26: [0, 1], 27: [0, 1], 28: [0, 1],\n//   71: [0, -1], 72: [0, -1], 73: [0, -1], 74: [0, -1], 75: [0, -1], 76: [0, -1], 77: [0, -1], 78: [0, -1],\n//   81: [3, -1], 11: [3, 1], 88: [3, -1], 18: [3, 1], // ROOKS \n//   82: [2, -1], 13: [2,1], 17:[2,1], 87: [2,-1], // KNIGHTS \n//   83: [1,-1], 86: [1,-1], 12: [1,1], 16: [1,1], // BISHOPS \n//   14: [4,1], 84: [4,-1], //QUEENS \n//   15: [5,1], 85: [5,-1] //KINGS \n// };\n\nconst boardLayout = [81, 82, 83, 84, 85, 86, 87, 88, 71, 72, 73, 74, 75, 76, 77, 78, 61, 62, 63, 64, 65, 66, 67, 68, 51, 52, 53, 54, 55, 56, 57, 58, 41, 42, 43, 44, 45, 46, 47, 48, 31, 32, 33, 34, 35, 36, 37, 38, 21, 22, 23, 24, 25, 26, 27, 28, 11, 12, 13, 14, 15, 16, 17, 18];\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.createSquares = () => {\n      let position = this.state.current_position;\n      let squares = [];\n      let click = this.handleClick;\n      let pClick = this.handlePieceClick;\n      let bgs = ['black', 'white'];\n      let tick = 0;\n      let counter = 0;\n      let onDrop = this.dropHandler;\n      position.forEach((square, index) => {\n        squares[index] = /*#__PURE__*/_jsxDEV(Square, {\n          pClick: pClick,\n          index: index,\n          onClick: click,\n          onDrop: onDrop,\n          background: bgs[tick],\n          piece: square\n        }, square, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 24\n        }, this);\n        counter++;\n        if (counter > 7) counter = 0;else tick = tick === 0 ? 1 : 0;\n      });\n      return squares;\n    };\n\n    this.moveClick = (color, number) => {\n      console.log('move clicked', color, number);\n      this.setState(prevState => ({\n        squares: this.initSquares(number, prevState.history[number])\n      }));\n    };\n\n    this.handleClick = e => {\n      console.log(this.state.squares_history);\n      this.setState(prevState => ({\n        squares: [...this.state.squares_history[0]]\n      }));\n    };\n\n    this.handlePieceClick = (e, position) => {\n      this.state.squares[position].availableMoves();\n    };\n\n    this.dropHandler = e => {\n      e.preventDefault();\n      e.target.classList.remove('dragover');\n      let target = e.target.dataset.position;\n      let origin = e.dataTransfer.getData(\"text/plain\"); // console.log(`origin: ${origin}, target: ${target}`);\n\n      this.newMove(origin, target);\n    };\n\n    this.state = {\n      currentMove: 0,\n      lastMove: null,\n      colorToMove: 1,\n      selectedMove: null,\n      current_position: startingPosition,\n      history: []\n    };\n  }\n\n  render() {\n    let {\n      current_position\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board\",\n        children: [\" \", this.createSquares(current_position), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"moves\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(Moves, {\n          onClick: this.moveClick,\n          lastMove: this.state.lastMove\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 34\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  } // initSquares = (currentMove, position) => {\n  //   let squares = [];\n  //   let click = this.handleClick;\n  //   let pclick = this.handlePieceClick;\n  //   let r = 8;\n  //   let c = 1; \n  //   let bgs = ['black', 'white'];\n  //   let tick = 0; \n  //   let onDrop = this.dropHandler;\n  //   for(let i =0;i<64;i++){\n  //     let pos = Number(''+c+r);\n  //     squares[pos] = {\n  //       key: ''+c+r,\n  //       row: r,\n  //       column: c,\n  //       background: bgs[tick],\n  //       piece: position[pos],\n  //       output: function(){\n  //         let p = this.piece ? this.piece : null; \n  //         return <Square key={currentMove+'/'+this.column+this.row} onClick={click} onDrop={onDrop} row={this.row} pieceClick={pclick} column={this.column} background={this.background} piece={p} />;\n  //       },\n  //       hasPiece: function(){\n  //         return (this.piece===null||this.piece===undefined) ? false : true; \n  //       },\n  //       color: function(){\n  //         return this.hasPiece() ? this.piece[1] : false;  \n  //       },\n  //       type: function(){\n  //         return this.hasPiece() ? this.piece[0] : false;  \n  //       }\n  //     };\n  //     c++; \n  //     if(c>8){\n  //       c = 1;\n  //       r--;\n  //     }else tick = tick === 0 ? 1 : 0;\n  //   }\n  //   return squares; \n  // };\n  // renderSquares = (squares) => {\n  //   let render = [];\n  //   boardLayout.forEach(element => {\n  //     render.push(squares[element].output());\n  //   });\n  //   return render; \n  // };\n\n\n  switchColor() {\n    return this.state.colorToMove === 1 ? -1 : 1;\n  } // newMove(from, to){\n  //   let squares_copy = [...this.state.squares];\n  //   if(squares_copy[from].color()!==this.state.colorToMove) return; \n  //   if(squares_copy[from].color()===squares_copy[to].color()) return; \n  //   let type = squares_copy[from].type();\n  //   let currentMove = this.state.currentMove;\n  //   let history_copy = JSON.parse(JSON.stringify(this.state.history)); \n  //   history_copy[currentMove+1] = JSON.parse(JSON.stringify(history_copy[currentMove])); \n  //   history_copy[currentMove+1][from] = null;  \n  //   history_copy[currentMove+1][to] = [type, squares_copy[to].color()]; \n  //   // let newposition = [...history_copy[currentMove]]; \n  //   // newposition[from] = null; \n  //   // newposition[to] = [type, squares_copy[to].color()];\n  //   // history_copy[currentMove+1] = [...newposition];\n  //   squares_copy[to].piece = squares_copy[from].piece;\n  //   squares_copy[from].piece = null; \n  //   this.setState(prevState => ({\n  //     squares: squares_copy,\n  //     history: history_copy,\n  //     lastMove: [prevState.colorToMove, type, to], \n  //     currentMove: prevState.currentMove+1,\n  //     colorToMove: this.switchColor()\n  //   }));\n  // };\n\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/q/Documents/WebDocuments/ChessReact/chess/src/App.js"],"names":["React","Component","Moves","Square","startingPosition","boardLayout","App","constructor","createSquares","position","state","current_position","squares","click","handleClick","pClick","handlePieceClick","bgs","tick","counter","onDrop","dropHandler","forEach","square","index","moveClick","color","number","console","log","setState","prevState","initSquares","history","e","squares_history","availableMoves","preventDefault","target","classList","remove","dataset","origin","dataTransfer","getData","newMove","currentMove","lastMove","colorToMove","selectedMove","render","switchColor"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\n// import Board from './components/Board/Board';\nimport Moves from './components/Moves/Moves';\nimport Square from './components/Square/Square';\n\n\n// TYPES (negative values for black)\n// PAWN - 1 \n// BISHOP - 2 \n// KNIGHT - 3 \n// ROOK - 4\n// QUEEN - 5 \n// KING - 6 \n\nconst startingPosition = \n[\n-4, -2, -3, -5, -6, -3, -2, -4,\n-1, -1, -1, -1, -1, -1, -1, -1,\n0, 0, 0, 0, 0, 0, 0, 0,\n0, 0, 0, 0, 0, 0, 0, 0,\n0, 0, 0, 0, 0, 0, 0, 0,\n0, 0, 0, 0, 0, 0, 0, 0,\n1, 1, 1, 1, 1, 1, 1, 1,\n4, 2, 3, 5, 6, 3, 2, 4\n];\n\n// const startingPosition = \n// {\n//   21: [0, 1], 22: [0, 1], 23: [0, 1], 24: [0, 1], 25: [0, 1], 26: [0, 1], 27: [0, 1], 28: [0, 1],\n//   71: [0, -1], 72: [0, -1], 73: [0, -1], 74: [0, -1], 75: [0, -1], 76: [0, -1], 77: [0, -1], 78: [0, -1],\n  \n//   81: [3, -1], 11: [3, 1], 88: [3, -1], 18: [3, 1], // ROOKS \n//   82: [2, -1], 13: [2,1], 17:[2,1], 87: [2,-1], // KNIGHTS \n//   83: [1,-1], 86: [1,-1], 12: [1,1], 16: [1,1], // BISHOPS \n//   14: [4,1], 84: [4,-1], //QUEENS \n//   15: [5,1], 85: [5,-1] //KINGS \n// };\nconst boardLayout = \n[81,82,83,84,85,86,87,88,\n71,72,73,74,75,76,77,78,\n61,62,63,64,65,66,67,68,\n51,52,53,54,55,56,57,58,\n41,42,43,44,45,46,47,48,\n31,32,33,34,35,36,37,38,\n21,22,23,24,25,26,27,28,\n11,12,13,14,15,16,17,18\n];\n\n\n\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      currentMove: 0,\n      lastMove: null,\n      colorToMove: 1,\n      selectedMove: null,\n      current_position: startingPosition,\n      history: []\n    };  \n  }\n\n  createSquares = () => {\n    let position = this.state.current_position;\n    let squares = []; \n    let click = this.handleClick;\n    let pClick = this.handlePieceClick;\n    let bgs = ['black', 'white'];\n    let tick = 0;\n    let counter = 0; \n    let onDrop = this.dropHandler;\n    position.forEach((square, index) => {\n      squares[index] = <Square key={square} pClick={pClick} index={index} onClick={click} onDrop={onDrop} background={bgs[tick]} piece={square} />;\n      counter++; \n      if(counter>7) counter = 0; \n      else tick = (tick===0)? 1 : 0;\n\n    });\n    return squares; \n  }\n\n  render(){\n    let {current_position} = this.state;\n\n    return(\n      <div className='container'>\n        <div className=\"board\"> {this.createSquares(current_position)} </div>\n        <div className='moves' > <Moves onClick={this.moveClick} lastMove={this.state.lastMove} /> </div>\n      </div> \n    );\n  } \n\n  // initSquares = (currentMove, position) => {\n  //   let squares = [];\n  //   let click = this.handleClick;\n  //   let pclick = this.handlePieceClick;\n  //   let r = 8;\n  //   let c = 1; \n  //   let bgs = ['black', 'white'];\n  //   let tick = 0; \n  //   let onDrop = this.dropHandler;\n  //   for(let i =0;i<64;i++){\n  //     let pos = Number(''+c+r);\n  //     squares[pos] = {\n  //       key: ''+c+r,\n  //       row: r,\n  //       column: c,\n  //       background: bgs[tick],\n  //       piece: position[pos],\n  //       output: function(){\n  //         let p = this.piece ? this.piece : null; \n  //         return <Square key={currentMove+'/'+this.column+this.row} onClick={click} onDrop={onDrop} row={this.row} pieceClick={pclick} column={this.column} background={this.background} piece={p} />;\n  //       },\n  //       hasPiece: function(){\n  //         return (this.piece===null||this.piece===undefined) ? false : true; \n  //       },\n  //       color: function(){\n  //         return this.hasPiece() ? this.piece[1] : false;  \n  //       },\n  //       type: function(){\n  //         return this.hasPiece() ? this.piece[0] : false;  \n  //       }\n  //     };\n  //     c++; \n  //     if(c>8){\n  //       c = 1;\n  //       r--;\n  //     }else tick = tick === 0 ? 1 : 0;\n  //   }\n  //   return squares; \n  // };\n\n  // renderSquares = (squares) => {\n  //   let render = [];\n  //   boardLayout.forEach(element => {\n  //     render.push(squares[element].output());\n  //   });\n  //   return render; \n  // };\n\n  moveClick = (color, number) => {\n    console.log('move clicked', color, number);\n    this.setState(prevState=>({\n      squares: this.initSquares(number, prevState.history[number])\n    }));\n  }\n\n  handleClick = (e) => {\n    console.log(this.state.squares_history);\n    this.setState(prevState=>({\n      squares: [...this.state.squares_history[0]]\n    }));\n  };\n\n  handlePieceClick = (e, position) => {\n    this.state.squares[position].availableMoves();\n  }\n\n  dropHandler = (e) => {\n    e.preventDefault();\n    e.target.classList.remove('dragover');\n    let target = e.target.dataset.position; \n    let origin = e.dataTransfer.getData(\"text/plain\");\n    // console.log(`origin: ${origin}, target: ${target}`);\n    this.newMove(origin, target)\n  };\n\n  switchColor(){\n    return this.state.colorToMove === 1 ? -1 : 1; \n  }\n\n  // newMove(from, to){\n  //   let squares_copy = [...this.state.squares];\n  //   if(squares_copy[from].color()!==this.state.colorToMove) return; \n  //   if(squares_copy[from].color()===squares_copy[to].color()) return; \n    \n  //   let type = squares_copy[from].type();\n  //   let currentMove = this.state.currentMove;\n\n  //   let history_copy = JSON.parse(JSON.stringify(this.state.history)); \n  //   history_copy[currentMove+1] = JSON.parse(JSON.stringify(history_copy[currentMove])); \n  //   history_copy[currentMove+1][from] = null;  \n  //   history_copy[currentMove+1][to] = [type, squares_copy[to].color()]; \n  //   // let newposition = [...history_copy[currentMove]]; \n  //   // newposition[from] = null; \n  //   // newposition[to] = [type, squares_copy[to].color()];\n  //   // history_copy[currentMove+1] = [...newposition];\n\n  //   squares_copy[to].piece = squares_copy[from].piece;\n  //   squares_copy[from].piece = null; \n\n  //   this.setState(prevState => ({\n  //     squares: squares_copy,\n  //     history: history_copy,\n  //     lastMove: [prevState.colorToMove, type, to], \n  //     currentMove: prevState.currentMove+1,\n  //     colorToMove: this.switchColor()\n  //   }));\n  // };\n\n    \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}